<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>全国災害情報地図 by yuiseki</title>
    <meta name="description" content="全国災害情報地図">

    <!-- favicon -->
    <link rel="shortcut icon" type="image/png" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/map_family_shinken.png">

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="全国災害情報地図">

    <!-- Firebase関連jsの読み込み -->
    <!-- TODO: firebaseのバージョン上がったら書き換える -->
    <script defer src="/__/firebase/7.2.0/firebase-app.js"></script>
    <script defer src="/__/firebase/7.2.0/firebase-auth.js"></script>
    <script defer src="/__/firebase/7.2.0/firebase-database.js"></script>
    <script defer src="/__/firebase/7.2.0/firebase-messaging.js"></script>
    <script defer src="/__/firebase/7.2.0/firebase-storage.js"></script>
    <script defer src="/__/firebase/init.js"></script>

    <!-- 外部jsライブラリの読み込み -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" >

    <!-- leaflet -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet-src.js"></script>
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" rel="stylesheet" />

    <!-- markerをcluster化するやつ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster-src.js"></script>
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css" rel="stylesheet" />
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css" rel="stylesheet" />

    <!-- marker clusterをlayerとして扱えるようにするやつ -->
    <script src="https://unpkg.com/leaflet.markercluster.layersupport@2.0.1/dist/leaflet.markercluster.layersupport.js"></script>

    <!-- layer controlをgroup化するやつ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-groupedlayercontrol/0.6.1/leaflet.groupedlayercontrol.js"></script>
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-groupedlayercontrol/0.6.1/leaflet.groupedlayercontrol.css" rel="stylesheet" />

    <!-- geolocationで現在地に移動するやつ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.67.0/L.Control.Locate.min.js" charset="utf-8"></script>
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.67.0/L.Control.Locate.min.css" rel="stylesheet" />

    <!-- 地名で検索してその場所に移動するやつ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/esri-leaflet/2.3.0/esri-leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/esri-leaflet-geocoder/2.2.14/esri-leaflet-geocoder.js"></script>
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/esri-leaflet-geocoder/2.2.14/esri-leaflet-geocoder.css" rel="stylesheet" >

    <!-- モーダルダイアログを表示するやつ -->
    <script src="https://cdn.jsdelivr.net/npm/leaflet-modal@0.1.5/dist/Leaflet.Modal.js"></script>
    <link  href="https://cdn.jsdelivr.net/npm/leaflet-modal@0.1.5/dist/leaflet.modal.css" rel="stylesheet" >

    <!-- arcgisのjsonをGeoJSONに変換するやつ -->
    <script src="https://unpkg.com/@esri/arcgis-to-geojson-utils"></script>

    <!-- css -->
    <style media="screen">
      html, body, #map {
        background: #ECEFF1;
        color: rgba(0,0,0,0.87);
        font-family: Roboto, Helvetica, Arial, sans-serif;
        height: 100%; width: 100%;
        margin: 0; padding: 0;
      }
      #map a#github-ribbon {
        z-index: 1000;
        position: absolute;
        right: 0;
        top: 0;
        transform-origin: top right;
        transform: scale(0.6);
      }
      #map iframe#twitter-widget-0 {
        z-index: 1000;
        position: absolute !important;
        left: 64px !important;
        bottom: 10px !important;
      }
    </style>

  </head>
  <body>

  <div id="map">
    <a id="github-ribbon" href="https://github.com/yuiseki/crisis-news-mapper"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    <a class="twitter-share-button" data-size="large" href="https://twitter.com/intent/tweet">Tweet</a>
  </div>

  <script src="index.js"></script>
  </body>
</html>
